const noiseValue=/^-?\d+n+$/;export const JSONStringify=(n,t)=>{if("rawJSON"in JSON)return JSON.stringify(n,((n,t)=>"bigint"==typeof t?JSON.rawJSON(t.toString()):t),t);if(!n)return JSON.stringify(n);return JSON.stringify(n,((n,t)=>"string"==typeof t&&Boolean(t.match(noiseValue))||"bigint"==typeof t?t.toString()+"n":t),t).replace(/([\[:])?"(-?\d+)n"($|[,\}\]])/g,"$1$2$3").replace(/([\[:])?("-?\d+n+)n("$|"[,\}\]])/g,"$1$2$3")};export const JSONParse=n=>{if(!n)return JSON.parse(n);const t=Number.MAX_SAFE_INTEGER.toString(),e=t.length,r=/^"-?\d+n+"$/,i=/^-?\d+n$/,o=n.replace(/"(?:\\.|[^"])*"|-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][+-]?[0-9]+)?/g,((n,i,o,g)=>{const s='"'===n[0];if(s&&Boolean(n.match(r)))return n.substring(0,n.length-1)+'n"';const a=o||g,l=i&&(i.length<e||i.length===e&&i<=t);return s||a||l?n:'"'+n+'n"'}));return JSON.parse(o,((n,t)=>{if("string"==typeof t&&Boolean(t.match(i)))return BigInt(t.substring(0,t.length-1));return"string"==typeof t&&Boolean(t.match(noiseValue))?t.substring(0,t.length-1):t}))};